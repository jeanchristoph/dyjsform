class EventGenerator{constructor(buttonSelector){this.button=document.querySelector(buttonSelector);this.currentCallback=null;this.initClickEvent();this.autoUpdateEvent()}initClickEvent(){this.button.addEventListener("click",(event=>{if(this.currentCallback){this.currentCallback(event)}}))}updateClickEvent(newCallback){this.currentCallback=newCallback}autoUpdateEvent(){this.updateClickEvent((event=>{console.log("Premier clic")}));setTimeout((()=>{this.updateClickEvent((event=>{console.log("Nouvelle action après mise à jour")}))}),3e3)}}const myEventGenerator=new EventGenerator("#myButton");